<!DOCTYPE html> 
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Oihan Abru√±a - Home</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 0;
      text-align: center;
      background: #f4f4f4;
      color: #333;
    }

    .hero {
      background: #007bff;
      color: white;
      padding: 60px 20px;
    }

    .hero h1 {
      margin: 0;
      font-size: 2.5em;
    }

    .section {
      padding: 40px 20px;
      max-width: 900px;
      margin: 0 auto;
    }

    .projects-header {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      margin: 1em auto 0.5em;
    }

    .projects-text {
      display: inline-block;
      font-size: 1.5em;
      font-weight: 600;
      color: inherit;
      margin: 0;
    }

    .projects-text a {
      color: inherit;
      text-decoration: none;
      cursor: pointer;
    }

    .projects-text a:hover {
      text-decoration: underline;
    }

    .arrow-icon {
      position: static;
      margin-left: 8px;
      width: 24px;
      height: 24px;
      transition: transform 0.3s ease;
      cursor: pointer;
      transform-origin: center;
      display: inline-block;
      vertical-align: middle;
    }

    .arrow-icon:hover {
      transform: scale(1.6);
    }

    .arrow-icon.rotated {
      transform: rotate(90deg);
    }

    .arrow-icon.rotated:hover {
      transform: rotate(90deg) scale(1.6);
    }

    .arrow-icon:focus {
      outline: none;
      box-shadow: none;
    }

    .categories {
      margin-top: 20px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
      text-align: center;
      display: none;
    }

    .categories.visible {
      display: block;
    }

    .category {
      margin: 20px 0;
    }

    .category-name {
      font-size: 1.4em;
      font-weight: 600;
      display: inline-block;
      cursor: pointer;
      text-decoration: none;
      transition: text-decoration 0.2s;
    }

    .category:not(.open) .category-name:hover {
      text-decoration: underline;
    }

    .category.open .category-name {
      text-decoration: underline;
    }

    .category.open .category-name:hover {
      text-decoration: none;
    }

    .projects-list {
      margin-top: 8px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      text-align: center;
      display: none;
    }

    .projects-list.visible {
      display: block;
    }

    .projects-list a {
      display: block;
      width: fit-content;
      margin: 6px auto;
      font-size: 1em;
      color: #007bff;
      text-decoration: none;
      cursor: pointer;
      transition: text-decoration 0.2s;
    }

    .projects-list a:hover,
    .projects-list a:focus {
      text-decoration: underline;
      outline: none;
    }

    .project-section-label {
      font-weight: 600;
      margin-top: 12px;
      margin-bottom: 6px;
    }
    
    a {
      color: #007bff;
    }

    /* Logo and icons styling */
    .tech-icons {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
      align-items: center;
      margin-top: 15px;
    }

    .tech-icons img {
      height: 40px;
      width: auto;
    }

    /* Smaller, subtle currently learning section */
    .learning-label {
      font-weight: 500;
      font-size: 0.9em;
      color: #666;
      margin-top: 20px;
      margin-bottom: 8px;
      font-style: italic;
    }

    .tech-icons.learning img {
      height: 25px;
      opacity: 0.7;
    }
  </style>
</head>
<body>

  <div class="hero">
    <h1>Oihan Abru√±a</h1>
    <p>Digipen Student | Computer Science in Real‚ÄëTime Interactive Simulation</p>
  </div>

  <div class="section about">
    <h2>About Me</h2>
    <p><!-- Add a brief description about yourself here --></p>
  </div>

  <div class="section skills">
    <h2>Skills</h2>
    <div class="tech-icons">
      <img src="images/icons/cpp.png" alt="C++ Logo" />
      <img src="images/icons/opengl.png" alt="OpenGL Logo" />
    </div>

    <h3 class="learning-label">Currently Learning</h3>
    <div class="tech-icons learning">
      <img src="images/icons/vulkan.png" alt="Vulkan Logo" />
    </div>
  </div>

  <div class="section projects">
    <div class="projects-header">
      <h2 class="projects-text">
        <a href="projects.html" class="projects-link">Projects</a>
      </h2>
      <svg id="projects-arrow" class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" tabindex="0" role="button" aria-expanded="false" aria-controls="categories">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
    </div>

    <div class="categories" id="categories"></div>
  </div>

  <div class="section contact">
    <h2>Contact</h2>
    <p>Email: oihanabruna@gmail.com</p>
    <p>GitHub: <a href="https://github.com/oihan-az">github.com/oihan-az</a></p>
    <p>LinkedIn: <a href="https://linkedin.com/in/oihan-abru√±a">linkedin.com/in/oihan-abru√±a</a></p>
  </div>

  <script src="projects.js"></script>
  <script>
    const arrow = document.getElementById('projects-arrow');
    const categoriesContainer = document.getElementById('categories');

    arrow.addEventListener('click', () => {
      categoriesContainer.classList.toggle('visible');
      arrow.classList.toggle('rotated');
      arrow.setAttribute('aria-expanded', categoriesContainer.classList.contains('visible'));
    });

    arrow.addEventListener('keydown', e => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        arrow.click();
      }
    });

    function createProjectLink(project) {
      const a = document.createElement('a');
      a.href = project.link;
      a.setAttribute('tabindex', '0');
    
      const title = document.createElement('span');
      title.textContent = project.title;
    
      a.appendChild(title);
    
      if (project.wip) {
        const wipTag = document.createElement('span');
        wipTag.textContent = ' üöß WIP';
        wipTag.style.color = '#ff9900';
        wipTag.style.fontWeight = '500';
        wipTag.style.marginLeft = '6px';
        a.appendChild(wipTag);
      }
  
      return a;
    }

    function createCategory(name, mainProjects, others) {
      const categoryDiv = document.createElement('div');
      categoryDiv.className = 'category';
      categoryDiv.setAttribute('role', 'button');
      categoryDiv.setAttribute('tabindex', '0');

      const idSafeName = name.toLowerCase().replace(/\s+/g, '-');
      categoryDiv.setAttribute('aria-controls', idSafeName + '-projects');

      const catNameSpan = document.createElement('span');
      catNameSpan.className = 'category-name';
      catNameSpan.textContent = name;
      categoryDiv.appendChild(catNameSpan);

      const projectsList = document.createElement('div');
      projectsList.className = 'projects-list';
      projectsList.id = idSafeName + '-projects';

      mainProjects.forEach(proj => {
        projectsList.appendChild(createProjectLink(proj));
      });

      if (others && Array.isArray(others) && others.length > 0) {
        const othersLabel = document.createElement('div');
        othersLabel.className = 'project-section-label';
        othersLabel.textContent = 'Others (Secondary Category)';
        projectsList.appendChild(othersLabel);

        others.forEach(proj => {
          projectsList.appendChild(createProjectLink(proj));
        });
      }

      categoryDiv.appendChild(projectsList);

      catNameSpan.addEventListener('click', () => {
        projectsList.classList.toggle('visible');
        categoryDiv.classList.toggle('open');
      });

      catNameSpan.addEventListener('keydown', e => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          catNameSpan.click();
        }
      });

      return categoryDiv;
    }

    function buildProjectsUI(data) {
      categoriesContainer.innerHTML = '';

      for (const [category, content] of Object.entries(data)) {
        if (Array.isArray(content)) {
          categoriesContainer.appendChild(createCategory(category, content, []));
        } else {
          const main = content.main || [];
          const others = content.Others || [];
          categoriesContainer.appendChild(createCategory(category, main, others));
        }
      }
    }

    window.addEventListener('DOMContentLoaded', () => {
      if (typeof projectsData !== 'undefined') {
        buildProjectsUI(projectsData);
      } else {
        console.error('projectsData is not defined.');
      }
    });
  </script>
</body>
</html>
